name: Add items to GitHub Project

on:
  issues:
    types: [opened, reopened]
  pull_request:
    types: [opened, reopened]

jobs:
  add-to-project:
    runs-on: ubuntu-latest
    steps:
      - name: Add to project
        if: ${{ vars.GH_PROJECT_URL != '' && secrets.GH_PROJECTS_TOKEN != '' }}
        uses: actions/add-to-project@v0.6.0
        with:
          project-url: ${{ vars.GH_PROJECT_URL }}
          github-token: ${{ secrets.GH_PROJECTS_TOKEN }}
      - name: Skip project automation (not configured)
        if: ${{ vars.GH_PROJECT_URL == '' || secrets.GH_PROJECTS_TOKEN == '' }}
        run: echo "Skipping add-to-project because GH_PROJECT_URL or GH_PROJECTS_TOKEN is not configured."
